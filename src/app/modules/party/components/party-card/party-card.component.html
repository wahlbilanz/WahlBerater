<div class="party-card shadow-hover" [style.border-left-color]="partyData.color" *ngIf="politicalData && personalData">
  <img
    class="party-picture"
    src="{{ partyData.picture | pictureUrl }}"
    [routerLink]="['/', 'parties', partyId]"
    alt="Logo der Partei {{ partyData.name }}"
  />
  <h2 class="party-name">{{ partyData.name }}</h2>
  <p class="party-description" [innerHTML]="partyData.shortDescription | markdown"></p>
  <div class="party-candidates" *ngIf="partyCandidates">
    <ng-container *ngFor="let candidateId of partyCandidates | slice: 0:7">
      <a
        [routerLink]="[partyId, 'candidates', candidateId]"
        class="candidate-picture"
        [style.border-color]="partyData.color"
        nz-tooltip
        [nzTooltipTitle]="candidate.name"
        *ngIf="personalData | personalDataOf: candidateId as candidate"
      >
        <img
          src="{{ candidate.picture | pictureUrl }}"
          title="Bild von {{ candidate.name }}"
          [alt]="candidate.name"
          *ngIf="candidate.picture"
        />
        <img
          src="/assets/static/placeholder/unknown-person.svg"
          title="{{ candidate.name }} hat kein Bild"
          [alt]="candidate.name"
          *ngIf="!candidate.picture"
        />
      </a>
    </ng-container>
    <ng-container *ngIf="partyCandidates.length > 6"> ... </ng-container>
  </div>
  <div class="party-social" *ngIf="showSocialLinks">
    <app-social-links [links]="partyData.links" [name]="partyData.name"></app-social-links>
  </div>
  <a class="party-link" title="Mehr Informationen und Kandidierende von {{ partyData.name }}" [routerLink]="['/', 'parties', partyId]"
    >Mehr Informationen</a
  >
  <div class="barchart" *ngIf="maxPartyValue && maxPartyValue > 0 && score?.scores">
    <div class="bar">
      <ng-container *ngFor="let category of score.scores | keyvalue">
        <span
          *ngIf="category.value.score.score > 0"
          [style.width]="(100 * category.value.score.score) / maxPartyValue + '%'"
          [style.background-color]="politicalData.categories[category.key].color"
          class="hit"
          nz-tooltip
          nzTooltipTitle="{{ category.value.score.score | number: '1.0-2' }} Punkt{{
            category.value.score.score == 1 ? '' : 'e'
          }} in der Kategorie {{ politicalData.categories[category.key].title }}"
          >{{ category.value.score.score | number: '1.0-2' }}
        </span>
      </ng-container>
    </div>
    <div class="axis">
      <span
        nz-tooltip
        nzTooltipTitle="Achse zeigt die Punkte der Kandidaten."
        [style.width]="axeTiksWidth + '%'"
        *ngFor="let value of maxValueArray"
      >
        <span class="axis-label">{{ value }}</span>
      </span>
      <span [style.width]="tiksPadding + '%'"> </span>
    </div>
  </div>
</div>

<app-decision-templates #decisionTemplates></app-decision-templates>
<ng-container *ngIf="category">
  <h3>{{ category.title }}</h3>
  <nz-collapse *ngIf="claims">
    <ng-container *ngFor="let claim of claims | keyvalue">
      <nz-collapse-panel *ngIf="claim.value.category === categoryId" class="claim" [nzHeader]="claim.value.title" [nzExtra]="voteIcon">
        <p class="background" *ngIf="claim.value.description">
          <strong>Hintergrund:</strong>&nbsp;<span [innerHTML]="claim.value.description | markdown"></span>
        </p>
        <p class="owndecision" *ngIf="votes[claim.key]">
          <strong>Deine Antwort:</strong>&nbsp;<app-decision-icon [vote]="votes[claim.key]" voteContext="USER"></app-decision-icon>
        </p>

        <p></p>

        <h4>Was denken die Listen?</h4>
        <app-claim-candidate-viz
          [claimId]="claim.key"
          [claim]="claim.value"
          [votes]="votes"
          [politicalData]="politicalData"
          [personalCandidates]="personalCandidates"
          [partyScoreResult]="partyScoreResult"
          [showCandidates]="showCandidates"
        ></app-claim-candidate-viz>

        <p class="small claim-bottom" nz-row>
          <span class="redecide" nz-col nzXs="24" nzSm="24" nzLg="12" nzXl="12">
            <a [routerLink]="'/quiz/' + claim.key" *ngIf="!this.accessibilityModes?.accessibilityMode"
              >Zur체ck zur These, um Entscheidung zu 채ndern.</a
            >
            <a
              [routerLink]="'/quiz/' + AccessibleUrlPath"
              [fragment]="sAccessibleUrlFragment + claim.key"
              *ngIf="this.accessibilityModes?.accessibilityMode"
              >Zur체ck zur These, um Entscheidung zu 채ndern.</a
            >
          </span>
          <span class="more-info" nz-col nzXs="24" nzSm="24" nzLg="12" nzXl="12">
            <a [routerLink]="'/claim/' + claim.key">Mehr Informationen zu dieser These.</a>
          </span>
        </p>
        <ng-template #voteIcon>
          <app-decision-icon [vote]="votes[claim.key]" voteContext="USER"></app-decision-icon>
        </ng-template>
      </nz-collapse-panel>
    </ng-container>
  </nz-collapse>
</ng-container>

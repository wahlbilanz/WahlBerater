<div id="mybarchartchart">
  <table>
    <ng-container *ngFor="let party of partyScoreResult.partyScores">
      <!-- Party -->
      <tr class="party-row">
        <th>
          <!--          <a [routerLink]="'/candidates/' + candidate.id">{{ candidate.personal.name }}</a> <small>({{politicalData.parties[candidate.political.party].name}})</small>-->
          {{ politicalData.parties[party.party].name }}
        </th>
        <td>
          <ng-container *ngFor="let category of party.scores | keyvalue">
            <span
              *ngIf="category.value.score.score > 0"
              [style.width]="(100 * category.value.score.score) / partyScoreResult.maxParty + '%'"
              [style.background-color]="politicalData.categories[category.key].color"
              class="hit"
              nz-tooltip
              nzTooltipTitle="{{ category.value.score.score | number: '1.0-2' }} Punkt{{
                category.value.score.score == 1 ? '' : 'e'
              }} in der Kategorie {{ politicalData.categories[category.key].title }}"
              title="{{ category.value.score.score | number: '1.0-2' }} Punkt{{
                category.value.score.score == 1 ? '' : 'e'
              }} in der Kategorie {{ politicalData.categories[category.key].title }}"
              >{{ category.value.score.score | number: '1.0-2' }}
            </span>
          </ng-container>
        </td>
        <!--        <td-->
        <!--          *ngIf="party.score.score < maxValue"-->
        <!--          [colSpan]="maxValue - party.score.score"-->
        <!--          class="missed"-->
        <!--        >-->
        <!--&lt;!&ndash;          style="width:{{ (100 * (maxValue - candidate.score)) / maxValue }}%"&ndash;&gt;-->
        <!--          &lt;!&ndash;        {{maxValue - candidate.score}}&ndash;&gt;-->
        <!--        </td>-->
      </tr>

      <!-- candidates -->
      <ng-container *ngIf="showCandidates && party.candidates">
        <ng-container *ngFor="let candidate of party.candidates | keyvalue">
          <tr class="candidate-spacer"></tr>
          <tr class="candidate-row">
            <th>
              <!--          <a [routerLink]="'/candidates/' + candidate.id">{{ candidate.personal.name }}</a> <small>({{politicalData.parties[candidate.political.party].name}})</small>-->
              {{ candidate.value.personal.name }}
            </th>
            <td>
              <ng-container *ngFor="let category of candidate.value.scores | keyvalue">
                <span
                  *ngIf="category.value.score.score > 0"
                  [style.width]="(100 * category.value.score.score) / partyScoreResult.maxValue + '%'"
                  [style.background-color]="politicalData.categories[category.key].color"
                  class="hit"
                  nz-tooltip
                  nzTooltipTitle="{{ category.value.score.score }} Ãœbereinstimmung{{
                    category.value.score.score == 1 ? '' : 'en'
                  }} in der Kategorie {{ politicalData.categories[category.key].title }}"
                  >&nbsp;
                  <!--                  {{ category.value.score.score }}-->
                </span>
              </ng-container>
            </td>
            <!--          <td-->
            <!--            *ngIf="candidate.score.score < maxValue"-->
            <!--            [colSpan]="maxValue - party.score.score"-->
            <!--            class="missed"-->
            <!--          >-->
            <!--  &lt;!&ndash;          style="width:{{ (100 * (maxValue - candidate.score)) / maxValue }}%"&ndash;&gt;-->
            <!--            &lt;!&ndash;        {{maxValue - candidate.score}}&ndash;&gt;-->
            <!--          </td>-->
          </tr>
        </ng-container>
        <!--      <tr class="party-spacer"></tr>-->
        <tr class="spacer"></tr>
        <tr id="axis">
          <th></th>
          <td>
            <span
              nz-tooltip
              nzTooltipTitle="Achse zeigt die Punkte der Kandidaten."
              title="Achse zeigt die Punkte der Kandidaten."
              [style.width]="100 / partyScoreResult.maxValue + '%'"
              *ngFor="let value of maxValueArray()"
            >
              <span class="axis-label">{{ value + 1 }}</span>
            </span>
          </td>
        </tr>
      </ng-container>
      <tr class="spacer"></tr>
    </ng-container>
  </table>
</div>
